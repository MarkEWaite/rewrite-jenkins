---
type: specs.openrewrite.org/v1beta/recipe
name: net.sghill.jenkins.RemoveDep
recipeList:
  - org.openrewrite.maven.RemoveDependency:
      groupId: org.jenkins-ci
      artifactId: annotation-indexer
  - org.openrewrite.maven.RemoveDependency:
      groupId: org.jenkins-ci
      artifactId: symbol-annotation
---
type: specs.openrewrite.org/v1beta/recipe
name: net.sghill.jenkins.PreferSpotbugs
recipeList:
  #  - org.openrewrite.maven.AddDependency:
  #      groupId: com.github.spotbugs
  #      artifactId: spotbugs-annotations
  #      version: 4.7.0
  #      onlyIfUsing: javax.annotation.*
  #  - org.openrewrite.maven.UpgradeDependencyVersion:
  #      groupId: com.github.spotbugs
  #      artifactId: spotbugs-annotations
  #      version: 4.7.0
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: javax.annotations.Nonnull
      newFullyQualifiedTypeName: edu.umd.cs.findbugs.annotations.NonNull
      ignoreDefinition: true
  - org.openrewrite.java.ChangePackage:
      # new versions do not include javax.annotations; spotbugs is preferred
      oldPackageName: javax.annotation
      newPackageName: edu.umd.cs.findbugs.annotations
#  - org.openrewrite.maven.RemoveDependency:
#      groupId: com.github.spotbugs
#      artifactId: spotbugs-annotations
---
type: specs.openrewrite.org/v1beta/recipe
name: net.sghill.jenkins.rewrite.CommonsLang3ToApiPlugin
recipeList:
  - net.sghill.jenkins.rewrite.ReplaceLibrariesWithApiPlugin:
      pluginGroupId: io.jenkins.plugins
      pluginArtifactId: commons-lang3-api
      pluginVersion: 3.12.0.0
      replaces:
        - groupId: org.apache.commons
          artifactId: commons-lang3
---
type: specs.openrewrite.org/v1beta/recipe
name: net.sghill.jenkins.ModernizePlugin
recipeList:
  - net.sghill.jenkins.rewrite.ChangeJenkinsVersion:
      parentPomVersion: "4.40"
      jenkinsVersion: "2.303.3"
  - net.sghill.jenkins.rewrite.AddPluginsBom:
      bomName: bom-2.303.x
      bomVersion: "1409.v7659b_c072f18"
  - net.sghill.jenkins.rewrite.DisableLocalResolutionForParentPom
  - org.openrewrite.maven.RemoveProperty:
      # as of parent pom 4.40 this is deprecated and unused
      propertyName: java.level
  - net.sghill.jenkins.RemoveDep
  - net.sghill.jenkins.rewrite.CommonsLang3ToApiPlugin
